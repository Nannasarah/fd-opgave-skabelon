---
import Section from "@layouts/Section.astro";
import { Image } from "astro:assets";
import Expectimg from "@assets/images/expect.jpg";
---

<Section>
  <div class="expect">
    <figure>
      <div class="image-wrapper">
        <Image src={Expectimg} alt="snak" class="cover" />
      </div>
    </figure>
    <div class="text">
      <h3>WE'LL WORK WITH YOU</h3>
      <h1>What To Expect</h1>
      <p>Our collaboration is built on transparency, efficiency, and measurable results. Together, we create strategies tailored to your unique needs and goals.</p>
      <ul>
        <li>Collaborate to build actionable strategies that drive sustainable growth and deliver tangible outcomes.</li>
        <li>Identify opportunities to optimize processes and implement impactful solutions with measurable results.</li>
      </ul>
    </div>
  </div>
</Section>

<style>
  @layer components {
    .expect {
      display: grid;
      grid-template-columns: 2fr 1fr;
      gap: 1rem;
      text-align: center;
      justify-items: center;
      margin-top: 50px;

      .text {
        grid-column: 2;
        text-align: left;
      }
      h3 {
        color: var(--primary-color3);
        font-family: var(--heading-font);
        font-size: 16px;
        font-style: normal;
        font-weight: 400;
        line-height: 23.6px;
        letter-spacing: 2.32px;
        text-transform: uppercase;
        padding-bottom: 1rem;
      }
      h1 {
        color: var(--primary-color3);
        font-family: Cabin;
        font-size: 45px;
        font-style: normal;
        font-weight: 700;
        line-height: 52.2px;
      }
      p {
        color: #595566;
        font-family: var(--text-font);
        font-size: 16px;
        font-style: normal;
        font-weight: 400;
        line-height: 23.6px;
        padding-block: 1rem;
      }
    }

    img {
      width: 689px;
      height: 1032px;
      display: block;
      border-radius: 20px;
      margin-top: 5rem;
    }
    :root {
      --checkmark-icon: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><path fill="%234EAF4E" d="M176.49 95.51a12 12 0 0 1 0 17l-56 56a12 12 0 0 1-17 0l-24-24a12 12 0 1 1 17-17L112 143l47.51-47.52a12 12 0 0 1 16.98.03M236 128A108 108 0 1 1 128 20a108.12 108.12 0 0 1 108 108m-24 0a84 84 0 1 0-84 84a84.09 84.09 0 0 0 84-84"/></svg>');
    }
    ul {
      display: grid;
      gap: 1rem;
      line-height: 1.5;
    }

    li {
      display: grid;
      grid-template-columns: auto 1fr;
      gap: 1rem;
      font-size: 1rem;
      color: #595566;
    }

    li:before {
      content: "";
      width: 1.6rem;
      height: 1lh;
      background: var(--checkmark-icon) 50% 50% / 100% auto no-repeat;
    }
  }
  :root {
    --square-pattern: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="red"><path d="M7.47662 4.02206C6.50635 3.05178 5.53232 2.07774 4.56205 1.10745C4.28482 0.83023 3.80905 0.83023 3.53183 1.10745C2.56155 2.07774 1.59128 3.04803 0.621002 4.02206C0.343781 4.29929 0.343781 4.77506 0.621002 5.05229C1.59128 6.02258 2.5653 6.99661 3.53558 7.9669C3.8128 8.24412 4.28857 8.24412 4.56579 7.9669C5.53607 6.99661 6.51009 6.02258 7.48037 5.05229C7.63022 4.90244 7.69016 4.73011 7.69016 4.56527C7.69016 4.55403 7.69016 4.54654 7.69016 4.5353C7.69016 4.52781 7.69016 4.51657 7.69016 4.50908C7.69016 4.34424 7.63022 4.17191 7.47662 4.02206ZM4.04881 6.41968C3.41944 5.79031 2.79382 5.16468 2.16445 4.5353C2.79382 3.90593 3.41944 3.2803 4.04881 2.65092C4.67818 3.2803 5.3038 3.90593 5.93317 4.5353C5.3038 5.16468 4.67818 5.79031 4.04881 6.41968Z"/></svg>');
  }

  figure {
    position: relative;

    &::before {
      --square-count: 10;
      --square-size: 1.34rem;

      --_square-size: var(--square-size, 1rem);
      --_square-half: calc(var(--square-size) / 2);
      --_square-sum: calc(var(--square-count) * var(--square-size));
      z-index: -1;
      content: "";
      position: absolute;
      top: 2rem;
      left: -3rem;
      right: auto;
      bottom: auto;
      scale: 1.3;
      /*inline-size: calc(var(--square-count) * 1.34rem - .67rem);*/
      inline-size: calc(round(var(--_square-sum), var(--_square-size)) - var(--_square-half));
      aspect-ratio: 1;
      background: linear-gradient(135deg, #be965d, #976f40, #c99b61, #f0be7b, #ffcb85, #eebc79, #c0935b, #976f40) 0 0 / 100% 100%;
      mask:
        var(--square-pattern) 0 0 / var(--_square-size) var(--_square-size),
        var(--square-pattern) var(--_square-half) var(--_square-half) / var(--_square-size) var(--_square-size);
      /*clip-path: polygon(-3% 0%, 100% 0%, 100% 103%);*/
    }

    &::after {
      content: "";
      position: absolute;
      left: -1.5rem;
      top: 2.5rem;
      background: green;
      width: 164px;
      height: 183px;
      transform: rotate(-90deg);
      border-radius: 10px;
      z-index: -1;
    }
    .image-wrapper {
      width: 609px;
      height: 402px;
      overflow: hidden;
      border-radius: 20px;
      flex-shrink: 0; /* sikrer ingen krympning */
    }

    .image-wrapper .cover {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }
  }

  /* Query for små skærme (fx telefoner) */
  @media (max-width: 700px) {
    .expect {
      grid-template-columns: 1fr; /* én kolonne */
      text-align: center;
    }

    .expect .text {
      grid-column: 1;
      text-align: left;
      padding-inline: 1rem;

      h1,
      h3,
      p {
        text-align: center;
      }
    }

    .expect figure {
      order: -1; /* billede øverst */
    }

    .expect img,
    .expect .image-wrapper {
      width: 100%;
      height: auto;
      margin-top: 1rem;
    }

    figure::before,
    figure::after {
      display: none;
    }

    .expect h1 {
      font-size: 32px;
      line-height: 1.2;
    }

    .expect p {
      font-size: 15px;
      line-height: 1.6;
    }
  }
</style>
